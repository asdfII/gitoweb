{% extends "base.html" %}
{% block title %}Gitoweb{% endblock %}

{% block nav %}
  <li>
    <a href="{{ url_for('index') }}"><span class="glyphicon glyphicon-dashboard"></span> Overview</a>
  </li>
  <li>
    <a href="{{ url_for('user') }}"><span class="glyphicon glyphicon-edit"></span> Users</a>
  </li>
  <li class="active">
    <a href="{{ url_for('group') }}"><span class="glyphicon glyphicon-list-alt"></span> Groups
    <span class="sr-only">(current)</span></a>
  </li>
  <li>
    <a href="{{ url_for('repo') }}"><span class="glyphicon glyphicon-tasks"></span> Repos</a>
  </li>
{% endblock %}

{% block content %}

<!-- <h1 class="page-header">Groups</h1> -->
<ul id="myTab" class="nav nav-tabs">
  <li class="active"><a href="#groupList" data-toggle="tab"><strong>Groups</strong></a></li>
  <li><a href="#groupManager" data-toggle="tab"><strong>Group Manager</strong></a></li>
</ul>
<div id="myTabContent" class="tab-content">
  <div class="tab-pane fade in active" id="groupList">
    <table class="table table-condensed table-hover text-center">
      <thead>
        <tr>
          <th class="text-center">ID</th>
          <th class="text-center">Group</th>
          <th class="text-center">Action</th>
          <th class="text-center">
            Select
            <input type="checkbox" id="selectAll" onclick="selectAllGroup(this)">
          </th>
        </tr>
      </thead>
      <tbody>
      {% for i in grouplist %}
        {% set counter = loop.index %}
        <tr class="text-center">
          <td>{{ counter }}</td>
          <td>{{ i }}</td>
          <td>
            <div class="btn-group">
              <button type="button" class="btn btn-xs btn-danger" id="deleteGroup" onclick="deleteAllGroup">Delete</button>
            </div>
          </td>
          <td>
            <input type="checkbox" name="selectGroupName">
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="tab-pane fade" id="groupManager">
    <table class="table table-condensed">
      <thead>
        <tr class="table table-condensed">
          <th>Create a new group</th>
        </tr>
      </thead>
      <tbody class="table table-condensed">
        <tr>
          <td>
            <form class="form-inline" role="form" method="POST">
              <div class="form-group">
                <label class="sr-only" for="addGroupId">Name</label>
                <input type="text" class="form-control" name="addGroupName" id="addGroupId" placeholder="Add a new group name">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-default">Create</button>
                <!--<input type="submit" value="Add">-->
              </div>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<script>
//
$(function() {
    $('a[data-toggle="tab"]').on('shown.bs.tab', function(e) {
        var activeTab = $(e.target).text();
        var previousTab = $(e.relatedTarget).text();
        $(".active-tab span").html(activeTab);
        $(".previous-tab span").html(previousTab);
    });
});
</script>
{% endblock %}
